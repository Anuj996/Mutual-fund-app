{"ast":null,"code":"import{useEffect,useState,useContext}from\"react\";import{AuthContext}from\"../context/AuthProvider\";import{Link}from\"react-router-dom\";import{baseURL}from\"../config\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function SavedFundsPage(){const{token}=useContext(AuthContext);const[savedFunds,setSavedFunds]=useState([]);useEffect(()=>{const fetchSavedFunds=async()=>{try{const res=await fetch(\"\".concat(baseURL,\"/api/funds/saved\"),{headers:{\"Authorization\":\"Bearer \".concat(token),\"Content-Type\":\"application/json\"}});if(!res.ok)throw new Error(\"Failed to fetch saved funds\");const data=await res.json();setSavedFunds(data.savedFunds);}catch(err){console.error(\"Error fetching saved funds:\",err);alert(\"Unable to load saved funds. Please ensure you're logged in.\");}};if(token)fetchSavedFunds();},[token]);return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-br from-green-50 to-green-100 py-10 px-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold text-center text-green-700 mb-10\",children:\"Your Saved Mutual Funds\"}),savedFunds.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-gray-600 text-lg\",children:\"You haven\\u2019t saved any mutual funds yet.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"max-w-6xl mx-auto grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6\",children:savedFunds.map(fund=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-2xl shadow-md hover:shadow-xl transition duration-300\",children:[/*#__PURE__*/_jsx(Link,{to:\"/fund/\".concat(fund.schemeCode),className:\"text-xl font-semibold text-blue-700 hover:underline block mb-2\",children:fund.schemeName}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 text-sm\",children:[\"Latest NAV: \",/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[\"\\u20B9\",fund.nav]})]})]},fund.schemeCode))})]});}","map":{"version":3,"names":["useEffect","useState","useContext","AuthContext","Link","baseURL","jsx","_jsx","jsxs","_jsxs","SavedFundsPage","token","savedFunds","setSavedFunds","fetchSavedFunds","res","fetch","concat","headers","ok","Error","data","json","err","console","error","alert","className","children","length","map","fund","to","schemeCode","schemeName","nav"],"sources":["C:/project/Mutual fund App/frontend/src/pages/SavedFundsPage.js"],"sourcesContent":["import { useEffect, useState, useContext } from \"react\";\nimport { AuthContext } from \"../context/AuthProvider\";\nimport { Link } from \"react-router-dom\";\nimport { baseURL } from \"../config\";\n\nexport default function SavedFundsPage() {\n  const { token } = useContext(AuthContext);\n  const [savedFunds, setSavedFunds] = useState([]);\n\n  useEffect(() => {\n    const fetchSavedFunds = async () => {\n      try {\n        const res = await fetch(`${baseURL}/api/funds/saved`, {\n          headers: {\n            \"Authorization\": `Bearer ${token}`,\n            \"Content-Type\": \"application/json\",\n          },\n        });\n\n        if (!res.ok) throw new Error(\"Failed to fetch saved funds\");\n\n        const data = await res.json();\n        setSavedFunds(data.savedFunds);\n      } catch (err) {\n        console.error(\"Error fetching saved funds:\", err);\n        alert(\"Unable to load saved funds. Please ensure you're logged in.\");\n      }\n    };\n\n    if (token) fetchSavedFunds();\n  }, [token]);\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-green-50 to-green-100 py-10 px-6\">\n      <h1 className=\"text-4xl font-bold text-center text-green-700 mb-10\">\n        Your Saved Mutual Funds\n      </h1>\n\n      {savedFunds.length === 0 ? (\n        <p className=\"text-center text-gray-600 text-lg\">\n          You haven’t saved any mutual funds yet.\n        </p>\n      ) : (\n        <div className=\"max-w-6xl mx-auto grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6\">\n          {savedFunds.map((fund) => (\n            <div\n              key={fund.schemeCode}\n              className=\"bg-white p-6 rounded-2xl shadow-md hover:shadow-xl transition duration-300\"\n            >\n              <Link\n                to={`/fund/${fund.schemeCode}`}\n                className=\"text-xl font-semibold text-blue-700 hover:underline block mb-2\"\n              >\n                {fund.schemeName}\n              </Link>\n              <p className=\"text-gray-600 text-sm\">\n                Latest NAV: <span className=\"font-medium\">₹{fund.nav}</span>\n              </p>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,CAAEC,UAAU,KAAQ,OAAO,CACvD,OAASC,WAAW,KAAQ,yBAAyB,CACrD,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,OAAO,KAAQ,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpC,cAAe,SAAS,CAAAC,cAAcA,CAAA,CAAG,CACvC,KAAM,CAAEC,KAAM,CAAC,CAAGT,UAAU,CAACC,WAAW,CAAC,CACzC,KAAM,CAACS,UAAU,CAAEC,aAAa,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAEhDD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAc,eAAe,CAAG,KAAAA,CAAA,GAAY,CAClC,GAAI,CACF,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAIZ,OAAO,qBAAoB,CACpDa,OAAO,CAAE,CACP,eAAe,WAAAD,MAAA,CAAYN,KAAK,CAAE,CAClC,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,CAEF,GAAI,CAACI,GAAG,CAACI,EAAE,CAAE,KAAM,IAAI,CAAAC,KAAK,CAAC,6BAA6B,CAAC,CAE3D,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAN,GAAG,CAACO,IAAI,CAAC,CAAC,CAC7BT,aAAa,CAACQ,IAAI,CAACT,UAAU,CAAC,CAChC,CAAE,MAAOW,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAAC,6BAA6B,CAAEF,GAAG,CAAC,CACjDG,KAAK,CAAC,6DAA6D,CAAC,CACtE,CACF,CAAC,CAED,GAAIf,KAAK,CAAEG,eAAe,CAAC,CAAC,CAC9B,CAAC,CAAE,CAACH,KAAK,CAAC,CAAC,CAEX,mBACEF,KAAA,QAAKkB,SAAS,CAAC,sEAAsE,CAAAC,QAAA,eACnFrB,IAAA,OAAIoB,SAAS,CAAC,qDAAqD,CAAAC,QAAA,CAAC,yBAEpE,CAAI,CAAC,CAEJhB,UAAU,CAACiB,MAAM,GAAK,CAAC,cACtBtB,IAAA,MAAGoB,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,8CAEjD,CAAG,CAAC,cAEJrB,IAAA,QAAKoB,SAAS,CAAC,wEAAwE,CAAAC,QAAA,CACpFhB,UAAU,CAACkB,GAAG,CAAEC,IAAI,eACnBtB,KAAA,QAEEkB,SAAS,CAAC,4EAA4E,CAAAC,QAAA,eAEtFrB,IAAA,CAACH,IAAI,EACH4B,EAAE,UAAAf,MAAA,CAAWc,IAAI,CAACE,UAAU,CAAG,CAC/BN,SAAS,CAAC,gEAAgE,CAAAC,QAAA,CAEzEG,IAAI,CAACG,UAAU,CACZ,CAAC,cACPzB,KAAA,MAAGkB,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAC,cACvB,cAAAnB,KAAA,SAAMkB,SAAS,CAAC,aAAa,CAAAC,QAAA,EAAC,QAAC,CAACG,IAAI,CAACI,GAAG,EAAO,CAAC,EAC3D,CAAC,GAXCJ,IAAI,CAACE,UAYP,CACN,CAAC,CACC,CACN,EACE,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}